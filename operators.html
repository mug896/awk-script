<!DOCTYPE HTML>
<html lang="ko" >
    
    <head>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-161001174-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-161001174-3');
</script>

        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Operators | Introduction</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="gitbook/style.css">
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="./builtin_functions.html" />
    
    
    <link rel="prev" href="./control_statements.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="11"
        data-chapter-title="Operators"
        data-filepath="operators.md"
        data-basepath="."

        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="bug_reports.html">
            
                
                    <a href="./bug_reports.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Bug reports
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="basics.html">
            
                
                    <a href="./basics.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Basics
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="data_types.html">
            
                
                    <a href="./data_types.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Data Types
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="variables.html">
            
                
                    <a href="./variables.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Variables
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="regex.html">
            
                
                    <a href="./regex.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Regex
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="functions.html">
            
                
                    <a href="./functions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Functions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="escape_sequences.html">
            
                
                    <a href="./escape_sequences.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        Escape sequences
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="begin_end.html">
            
                
                    <a href="./begin_end.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                        BEGIN, END
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="builtin_variables.html">
            
                
                    <a href="./builtin_variables.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Built-in Variables
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="record_sep.html">
            
                
                    <a href="./record_sep.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Record 분리
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="field_sep.html">
            
                
                    <a href="./field_sep.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Field 분리
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6" data-path="zero_one.html">
            
                
                    <a href="./zero_one.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        $0=$0, $1=$1
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="redirection.html">
            
                
                    <a href="./redirection.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Redirection
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8" data-path="getline.html">
            
                
                    <a href="./getline.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        getline
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9" data-path="arrays.html">
            
                
                    <a href="./arrays.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        Arrays
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1" data-path="sort.html">
            
                
                    <a href="./sort.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.</b>
                        
                        Sort
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.2" data-path="GROUP_BY.html">
            
                
                    <a href="./GROUP_BY.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.2.</b>
                        
                        GROUP BY
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.3" data-path="JOIN.html">
            
                
                    <a href="./JOIN.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.3.</b>
                        
                        JOIN
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.4" data-path="subquery.html">
            
                
                    <a href="./subquery.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.4.</b>
                        
                        Subquery
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.5" data-path="index2.html">
            
                
                    <a href="./index2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.5.</b>
                        
                        Index
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="10" data-path="control_statements.html">
            
                
                    <a href="./control_statements.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        Control Statements
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="11" data-path="operators.html">
            
                
                    <a href="./operators.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                        Operators
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12" data-path="builtin_functions.html">
            
                
                    <a href="./builtin_functions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                        Built-in Functions
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="12.1" data-path="builtin/numeric.html">
            
                
                    <a href="./builtin/numeric.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.1.</b>
                        
                        Numeric Functions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.2" data-path="builtin/string.html">
            
                
                    <a href="./builtin/string.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.2.</b>
                        
                        String Functions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.3" data-path="builtin/io.html">
            
                
                    <a href="./builtin/io.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.3.</b>
                        
                        I/O Functions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.4" data-path="builtin/time.html">
            
                
                    <a href="./builtin/time.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.4.</b>
                        
                        Time Functions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.5" data-path="builtin/bitwise.html">
            
                
                    <a href="./builtin/bitwise.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.5.</b>
                        
                        Bitwise Functions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.6" data-path="builtin/type.html">
            
                
                    <a href="./builtin/type.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.6.</b>
                        
                        Type Functions
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="13" data-path="extensions.html">
            
                
                    <a href="./extensions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                        Dynamic Extensions
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="13.1" data-path="example.html">
            
                
                    <a href="./example.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.1.</b>
                        
                        예제
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="14" data-path="tcp_ip.html">
            
                
                    <a href="./tcp_ip.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>14.</b>
                        
                        TCP/IP Internetworking
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15" data-path="command_line_options.html">
            
                
                    <a href="./command_line_options.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.</b>
                        
                        Command-line options
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16" data-path="debugging.html">
            
                
                    <a href="./debugging.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.</b>
                        
                        Debugging
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="17" data-path="tips.html">
            
                
                    <a href="./tips.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>17.</b>
                        
                        Tips
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >Introduction</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="operators">Operators</h1>
<p>&#xC6B0;&#xC120;&#xC21C;&#xC704;&#xAC00; &#xB192;&#xC740; &#xAC83;&#xBD80;&#xD130; &#xB0AE;&#xC740; &#xC21C;&#xC11C;&#xC785;&#xB2C8;&#xB2E4;.</p>
<table>
<thead>
<tr>
<th>Operators</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>++</code> <code>--</code></strong></td>
<td>Increment and decrement (prefix and postfix).</td>
</tr>
<tr>
<td><strong><code>^</code></strong></td>
<td>Power.</td>
</tr>
<tr>
<td><strong><code>*</code> <code>/</code> <code>%</code></strong></td>
<td>Multiply, divide and modulus (remainder).</td>
</tr>
<tr>
<td><strong><code>+</code> <code>-</code></strong></td>
<td>Add and subtract.</td>
</tr>
<tr>
<td>nothing</td>
<td>String concatenation.</td>
</tr>
<tr>
<td><strong><code>&gt;</code> <code>&gt;=</code> <code>&lt;</code> <code>&lt;=</code> <code>==</code> <code>!=</code> <code>~</code> <code>!~</code></strong></td>
<td>Relational operators.</td>
</tr>
<tr>
<td><strong><code>!</code></strong></td>
<td>Negate expression.</td>
</tr>
<tr>
<td><strong><code>&amp;&amp;</code></strong></td>
<td>Logical AND.</td>
</tr>
<tr>
<td><b><code>||</code></b></td>
<td>Logical OR.</td>
</tr>
<tr>
<td><strong><code>=</code> <code>+=</code> <code>-=</code> <code>*=</code> <code>/=</code> <code>%=</code> <code>^=</code></strong></td>
<td>Assignment.</td>
</tr>
</tbody>
</table>
<pre><code class="lang-bash"><span class="hljs-comment"># &apos;^=&apos; &#xB294; power &#xB300;&#xC785; &#xC5F0;&#xC0B0;&#xC790;</span>
$ awk <span class="hljs-string">&apos;BEGIN { aa = 3; aa ^= 2; print aa }&apos;</span> 
<span class="hljs-number">9</span>
</code></pre>
<h4 id="-&#xC5F0;&#xC0B0;&#xC790;&#xB294;-&#xBCC0;&#xC218;&#xC640;&#xC758;-&#xC0AC;&#xC774;&#xC5D0;-&#xACF5;&#xBC31;&#xC774;-&#xC62C;-&#xC218;-&#xC788;&#xC2B5;&#xB2C8;&#xB2E4;"><code>++</code> <code>--</code> &#xC5F0;&#xC0B0;&#xC790;&#xB294; &#xBCC0;&#xC218;&#xC640;&#xC758; &#xC0AC;&#xC774;&#xC5D0; &#xACF5;&#xBC31;&#xC774; &#xC62C; &#xC218; &#xC788;&#xC2B5;&#xB2C8;&#xB2E4;.</h4>
<pre><code class="lang-bash">$ awk <span class="hljs-string">&apos;BEGIN { n = 1; print ++ n; print n }&apos;</span>
<span class="hljs-number">2</span>
<span class="hljs-number">2</span>

$ awk <span class="hljs-string">&apos;BEGIN { n = 1; print n ++; print n }&apos;</span>
<span class="hljs-number">1</span>
<span class="hljs-number">2</span>
</code></pre>
<p>&#xB530;&#xB77C;&#xC11C; &#xB2E4;&#xC74C;&#xACFC; &#xAC19;&#xC740; &#xACBD;&#xC6B0; &#xACB0;&#xACFC;&#xAC00; <code>123</code> &#xC774; &#xB418;&#xC9C0; &#xC54A;&#xC2B5;&#xB2C8;&#xB2E4;. 
&#xC65C;&#xB0D0;&#xD558;&#xBA74; &#xB450; &#xBC88;&#xC9F8;&#xC640; &#xAC19;&#xC774; &#xD574;&#xC11D;&#xB418;&#xAE30; &#xB54C;&#xBB38;&#xC785;&#xB2C8;&#xB2E4;.</p>
<pre><code class="lang-bash">$ awk <span class="hljs-string">&apos;BEGIN { n = 12; x = 2; r = n ++x; print r }&apos;</span>
<span class="hljs-number">122</span>

$ awk <span class="hljs-string">&apos;BEGIN { n = 12; x = 2; r = (n ++)x; print r }&apos;</span>
<span class="hljs-number">122</span>

$ awk <span class="hljs-string">&apos;BEGIN { n = 12; x = 2; r = n ++x; print n }&apos;</span>
<span class="hljs-number">13</span>
</code></pre>
<p><code>r</code> &#xAC12;&#xC774; <code>123</code> &#xC774; &#xB418;&#xAC8C; &#xD558;&#xB824;&#xBA74; &#xB2E4;&#xC74C;&#xACFC; &#xAC19;&#xC774; &#xD574;&#xC57C; &#xD569;&#xB2C8;&#xB2E4;.</p>
<pre><code class="lang-bash">$ awk <span class="hljs-string">&apos;BEGIN { n = 12; x = 2; r = n (++x); print r }&apos;</span>
<span class="hljs-number">123</span>

$ gawk <span class="hljs-string">&apos;BEGIN { n = 12; x = 2; r = (n) ++x; print r }&apos;</span>
<span class="hljs-number">123</span>

$ gawk <span class="hljs-string">&apos;BEGIN { n = 12; x = 2; r = n &quot;&quot; ++x; print r }&apos;</span>
<span class="hljs-number">123</span>
</code></pre>
<p><a name="quiz"></a></p>
<h1 id="quiz">Quiz</h1>
<p><code>7 + 3 * (5 - 2) + 4</code> &#xC640; &#xAC19;&#xC740; &#xC0AC;&#xCE59;&#xC5F0;&#xC0B0; &#xC218;&#xC2DD;&#xC744; &#xB77C;&#xC778; &#xB2E8;&#xC704;&#xB85C; &#xC785;&#xB825;&#xBC1B;&#xC544; 
&#xC5F0;&#xC0B0; &#xACB0;&#xACFC;&#xB97C; &#xCD9C;&#xB825;&#xD558;&#xB294; &#xAC83;&#xC785;&#xB2C8;&#xB2E4;.  &#xB367;&#xC148;, &#xBE84;&#xC148;&#xBCF4;&#xB2E4;&#xB294; &#xACF1;&#xC148;, &#xB098;&#xB217;&#xC148;&#xC744; &#xBA3C;&#xC800; &#xACC4;&#xC0B0;&#xD574;&#xC57C; &#xD558;&#xACE0; 
&#xAD04;&#xD638;&#xAC00; &#xC788;&#xC744; &#xACBD;&#xC6B0; &#xC81C;&#xC77C; &#xBA3C;&#xC800; &#xACC4;&#xC0B0;&#xD574;&#xC57C; &#xD569;&#xB2C8;&#xB2E4;.
&#xC5EC;&#xAE30;&#xC11C;&#xB294; stack &#xC744; &#xD65C;&#xC6A9;&#xD558;&#xB294; &#xD6C4;&#xC704; &#xD45C;&#xAE30;&#xBC95;&#xC744; &#xC0AC;&#xC6A9;&#xD588;&#xC2B5;&#xB2C8;&#xB2E4;.
&#xC790;&#xC138;&#xD55C; &#xC124;&#xBA85;&#xC740; <a href="https://jamanbbo.tistory.com/53" target="_blank">&#xC3ED;&#xC774;&#xB2D8;&#xC758; &#xD648;&#xD398;&#xC774;&#xC9C0;</a> &#xB97C; &#xCC38;&#xACE0;&#xD558;&#xC138;&#xC694;.</p>
<blockquote>
<p>&#xD6C4;&#xC704; &#xD45C;&#xAE30;&#xBC95; (postfix notation) &#xC740; <a href="https://ko.wikipedia.org/wiki/%EC%97%AD%ED%8F%B4%EB%9E%80%EB%93%9C_%ED%91%9C%EA%B8%B0%EB%B2%95" target="_blank">&#xC5ED;&#xD3F4;&#xB780;&#xB4DC; &#xD45C;&#xAE30;&#xBC95;</a> (RPN, Reverse Polish Notation)
&#xC774;&#xB77C;&#xACE0;&#xB3C4; &#xD558;&#xB294;&#xB370; &#xC5F0;&#xC0B0;&#xC790;&#xB97C; &#xC5F0;&#xC0B0; &#xB300;&#xC0C1;&#xC758; &#xB4A4;&#xC5D0; &#xC4F0;&#xB294; &#xD45C;&#xAE30;&#xBC95;&#xC785;&#xB2C8;&#xB2E4;.
&#xC774; &#xBC29;&#xC2DD;&#xC740; &#xC218;&#xC2DD;&#xC744; &#xACC4;&#xC0B0;&#xD560; &#xB54C; &#xD2B9;&#xBCC4;&#xD55C; &#xBCC0;&#xD658; &#xC5C6;&#xC774;, &#xC218;&#xC2DD;&#xC744; &#xC55E;&#xC5D0;&#xC11C;&#xBD80;&#xD130; &#xC77D;&#xC5B4; &#xB098;&#xAC00;&#xBA74;&#xC11C; stack &#xC5D0; &#xC800;&#xC7A5;&#xD558;&#xBA74; &#xB41C;&#xB2E4;&#xB294; &#xC7A5;&#xC810;&#xC774; &#xC788;&#xB2E4;. </p>
</blockquote>
<pre><code class="lang-bash">$ ./parse.sh &lt;&lt;&lt; <span class="hljs-string">&apos;1 + 2 * 3&apos;</span>
<span class="hljs-number">7</span>

$ cat file              <span class="hljs-comment"># &#xC218;&#xC2DD;&#xC740; &#xACF5;&#xBC31; &#xC5C6;&#xC774; &#xBD99;&#xC5EC; &#xC4F8; &#xC218; &#xC788;&#xC2B5;&#xB2C8;&#xB2E4;.</span>
<span class="hljs-number">1</span> + <span class="hljs-number">2</span> * <span class="hljs-number">3</span> + <span class="hljs-number">4</span> 
( <span class="hljs-number">1</span> + <span class="hljs-number">2</span> ) * <span class="hljs-number">3</span> + <span class="hljs-number">4</span>
<span class="hljs-number">7</span>+<span class="hljs-number">3</span>*(<span class="hljs-number">5</span>-<span class="hljs-number">2</span>)+<span class="hljs-number">4</span>
- - <span class="hljs-number">3</span> - + - - <span class="hljs-number">4</span> + <span class="hljs-number">5</span>
-<span class="hljs-number">3</span> - ( -<span class="hljs-number">4</span> + <span class="hljs-number">5</span> )
<span class="hljs-number">3</span> - -( -<span class="hljs-number">10</span> + -<span class="hljs-number">2</span> )
<span class="hljs-number">3</span> - -(-( -<span class="hljs-number">10</span> + -<span class="hljs-number">2</span> ))
<span class="hljs-number">3</span> + -( -<span class="hljs-number">10</span> - -(<span class="hljs-number">3</span>) + -( <span class="hljs-number">3</span> - ( -<span class="hljs-number">10</span> + -<span class="hljs-number">2</span> ) + -<span class="hljs-number">2</span> ))

$ ./parse.sh file        <span class="hljs-comment"># &#xB610;&#xB294; cat file | ./parse.sh</span>
<span class="hljs-number">11</span>
<span class="hljs-number">13</span>
<span class="hljs-number">20</span>
<span class="hljs-number">4</span>
-<span class="hljs-number">4</span>
-<span class="hljs-number">9</span>
<span class="hljs-number">15</span>
<span class="hljs-number">23</span>
</code></pre>
<blockquote>
<ol>
<li><p>&#xC0AC;&#xC6A9;&#xB418;&#xB294; &#xC5F0;&#xC0B0;&#xC790; &#xC6B0;&#xC120;&#xC21C;&#xC704;&#xB294; <code>(</code>  &lt;  <code>+</code> <code>-</code>  &lt;  <code>*</code> <code>/</code> &#xC785;&#xB2C8;&#xB2E4;.   </p>
</li>
<li><p>&#xD604;&#xC7AC; &#xC5F0;&#xC0B0;&#xC790;&#xAC00; ostack &#xC758; top &#xC5D0; &#xC788;&#xB294; &#xC5F0;&#xC0B0;&#xC790; &#xBCF4;&#xB2E4; &#xC6B0;&#xC120;&#xC21C;&#xC704;&#xAC00; &#xB192;&#xC744; &#xB54C;&#xAE4C;&#xC9C0; &#xAEBC;&#xB0B4;&#xC5B4;
calc &#xD558;&#xACE0; &#xC6B0;&#xC120;&#xC21C;&#xC704;&#xAC00; &#xB192;&#xC544;&#xC84C;&#xB2E4;&#xBA74; ostack &#xC5D0; push &#xD569;&#xB2C8;&#xB2E4;.   </p>
</li>
<li><p><code>- 3 - ( - 4 - + - 5 )</code> &#xC5D0;&#xC11C; &#xC22B;&#xC790; &#xC55E;&#xC5D0; &#xC788;&#xB294; <code>- 3</code>, <code>- 4</code>, <code>+ - 5</code> &#xC5F0;&#xC0B0;&#xC790;&#xB294; &#xB450; &#xAC1C;&#xC758;
operand &#xB97C; &#xC774;&#xC6A9;&#xD574; &#xC5F0;&#xC0B0;&#xD558;&#xB294; binary &#xC5F0;&#xC0B0;&#xC790;&#xAC00; &#xC544;&#xB2C8;&#xACE0; unary &#xC5F0;&#xC0B0;&#xC790; &#xC774;&#xBBC0;&#xB85C; ostack &#xC5D0;
push &#xD558;&#xC9C0; &#xC54A;&#xACE0; number &#xC5D0; &#xBD80;&#xD638;&#xB97C; &#xC124;&#xC815;&#xD574;&#xC11C; rstack &#xC5D0; push &#xD569;&#xB2C8;&#xB2E4;.
( unary &#xC5F0;&#xC0B0;&#xC790; &#xC704;&#xCE58;&#xC5D0; <code>*</code> <code>/</code> &#xAC00; &#xC624;&#xB294;&#xAC83;&#xC740; &#xC624;&#xB958; &#xC785;&#xB2C8;&#xB2E4;. )</p>
</li>
<li><p><code>3 - - ( -10 + -2 )</code> &#xC640; &#xAC19;&#xC774; &#xAD04;&#xD638; &#xC55E;&#xC5D0; &#xC788;&#xB294; unary &#xC5F0;&#xC0B0;&#xC790;&#xB294; &#xAD04;&#xD638;&#xAC00; &#xB2EB;&#xD790;&#xB54C; &#xCD5C;&#xC885; &#xACB0;&#xACFC;&#xAC12;&#xC5D0;
&#xBD80;&#xD638;&#xB97C; &#xC124;&#xC815;&#xD574;&#xC57C; &#xD569;&#xB2C8;&#xB2E4;. &#xAD04;&#xD638;&#xB294; nesting &#xB420;&#xC218; &#xC788;&#xC73C;&#xBBC0;&#xB85C; ustack &#xC744; &#xC774;&#xC6A9;&#xD574; <code>&quot;(&quot;</code> &#xC5D0;&#xC11C;
&#xBD80;&#xD638;&#xAC12;&#xC744; &#xC800;&#xC7A5;&#xD558;&#xACE0; <code>&quot;)&quot;</code> &#xC5D0;&#xC11C; rstack &#xC5D0;&#xC11C; &#xACB0;&#xACFC;&#xAC12;&#xC744; pop &#xD574;&#xC11C; &#xBD80;&#xD638;&#xB97C; &#xC124;&#xC815;&#xD569;&#xB2C8;&#xB2E4;.</p>
</li>
</ol>
</blockquote>
<pre><code class="lang-bash"><span class="hljs-comment">#!/usr/bin/env -S gawk -f</span>

<span class="hljs-comment"># stack &#xC740; &#xC138; &#xAC1C;&#xB97C; &#xC0AC;&#xC6A9;&#xD569;&#xB2C8;&#xB2E4;. ostack &#xC5D0;&#xB294; operator &#xC640; &#xAD04;&#xD638;&#xAC00; &#xB4E4;&#xC5B4;&#xAC00;&#xACE0;</span>
<span class="hljs-comment"># rstack &#xC5D0;&#xB294; operand &#xAC00; &#xB4E4;&#xC5B4;&#xAC00;&#xACE0; calc &#xACC4;&#xC0B0; &#xACB0;&#xACFC;&#xAC00; &#xC800;&#xC7A5;&#xB429;&#xB2C8;&#xB2E4;.</span>
<span class="hljs-comment"># ustack &#xC740; &quot;(&quot; &#xAD04;&#xD638; &#xC55E;&#xC758; &#xBD80;&#xD638;&#xB97C; &#xC800;&#xC7A5;&#xD558;&#xB294;&#xB370; &#xC0AC;&#xC6A9;&#xB429;&#xB2C8;&#xB2E4;.</span>
BEGIN { FS=<span class="hljs-string">&quot;&quot;</span>; token[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]; ostack[<span class="hljs-number">0</span>]; rstack[<span class="hljs-number">0</span>]; ustack[<span class="hljs-number">0</span>] }

{
    idx = <span class="hljs-number">0</span>
    tokenize()              <span class="hljs-comment"># &#xB77C;&#xC778; &#xBCC4;&#xB85C; tokenize &#xB97C; &#xD574;&#xC11C;</span>
    <span class="hljs-built_in">print</span> parse()           <span class="hljs-comment"># &#xC5F0;&#xC0B0; &#xACB0;&#xACFC;&#xB97C; &#xCD9C;&#xB825;&#xD569;&#xB2C8;&#xB2E4;.</span>

    delete token            <span class="hljs-comment"># &#xB2E4;&#xC74C; &#xC785;&#xB825; &#xB77C;&#xC778;&#xC744; &#xC704;&#xD55C; &#xCD08;&#xAE30;&#xD654; </span>
}

<span class="hljs-keyword">function</span> parse(     i, len, op, pk, val, unary, unary_p) {
    unary = <span class="hljs-number">1</span>; unary_p = <span class="hljs-number">1</span>    <span class="hljs-comment"># unary &#xC5F0;&#xC0B0;&#xC790; &#xBD80;&#xD638; &#xC124;&#xC815;&#xC744; &#xC704;&#xD55C; &#xBCC0;&#xC218;. _p &#xB294; &#xAD04;&#xD638;&#xC6A9;</span>
    len = length(token)
    <span class="hljs-keyword">for</span> (i=<span class="hljs-number">0</span>; i &lt; len; i++) {
        switch ( token[i][<span class="hljs-string">&quot;type&quot;</span>] ) {

            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;number&quot;</span> :  
                <span class="hljs-comment"># unary &#xAC12;&#xC73C;&#xB85C; &#xBD80;&#xD638;&#xB97C; &#xC124;&#xC815;&#xD574;&#xC11C; rstack &#xC5D0; push &#xD569;&#xB2C8;&#xB2E4;.</span>
                push(rstack, unary * token[i][<span class="hljs-string">&quot;value&quot;</span>])
                unary = <span class="hljs-number">1</span>     <span class="hljs-comment"># push &#xD6C4;&#xC5D0;&#xB294; &#xAC12;&#xC744; 1 &#xB85C; reset</span>
                <span class="hljs-built_in">break</span>

            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;operator&quot;</span> :
                op = token[i][<span class="hljs-string">&quot;value&quot;</span>]

                <span class="hljs-comment"># &#xD604;&#xC7AC; &#xC5F0;&#xC0B0;&#xC790;&#xAC00; &#xCC98;&#xC74C; token &#xC774;&#xAC70;&#xB098; &#xBC14;&#xB85C; &#xC774;&#xC804; token &#xC774;</span>
                <span class="hljs-comment"># &quot;(&quot; &#xC774;&#xAC70;&#xB098; operator &#xC774;&#xBA74; unary &#xC5F0;&#xC0B0;&#xC790;</span>
                <span class="hljs-keyword">if</span> ( i == <span class="hljs-number">0</span> \
                     || token[i-<span class="hljs-number">1</span>][<span class="hljs-string">&quot;value&quot;</span>] == <span class="hljs-string">&quot;(&quot;</span> \
                     || token[i-<span class="hljs-number">1</span>][<span class="hljs-string">&quot;type&quot;</span>] == <span class="hljs-string">&quot;operator&quot;</span>)
                { 
                    <span class="hljs-comment"># unary &#xC5F0;&#xC0B0;&#xC790; &#xC790;&#xB9AC;&#xC5D0; * or / &#xAC00; &#xC624;&#xBA74; &#xC624;&#xB958;</span>
                    <span class="hljs-keyword">if</span> ( op ~ /*|\// ) error( <span class="hljs-string">&quot;* or / on unary operator&quot;</span> )
                    <span class="hljs-keyword">if</span> ( token[i+<span class="hljs-number">1</span>][<span class="hljs-string">&quot;value&quot;</span>] == <span class="hljs-string">&quot;(&quot;</span>) {   <span class="hljs-comment"># &#xBC14;&#xB85C; &#xB2E4;&#xC74C; token &#xC774; &quot;(&quot; &#xC774;&#xBA74;</span>
                        unary_p = unary * (op <span class="hljs-number">1</span>)         <span class="hljs-comment"># &#xAD04;&#xD638;&#xB97C; &#xC704;&#xD55C; unary_p &#xBCC0;&#xC218;&#xB97C;  </span>
                        unary = <span class="hljs-number">1</span>                        <span class="hljs-comment"># &#xC124;&#xC815;&#xD558;&#xACE0; unary &#xBCC0;&#xC218;&#xB294; reset</span>
                    } <span class="hljs-keyword">else</span> unary *= (op <span class="hljs-number">1</span>)               <span class="hljs-comment"># &#xC774;&#xC678;&#xB294; unary &#xBCC0;&#xC218;&#xB97C; &#xC124;&#xC815; </span>
                    <span class="hljs-built_in">break</span> 
                }

                pk = peek(ostack)                  <span class="hljs-comment"># ostack &#xC758; top &#xD56D;&#xBAA9;&#xC744; &#xC870;&#xD68C;&#xD574;&#xC11C;</span>
                <span class="hljs-keyword">if</span> ( pk == <span class="hljs-string">&quot;&quot;</span> || pk == <span class="hljs-string">&quot;(&quot;</span> )       <span class="hljs-comment"># &#xD56D;&#xBAA9;&#xC774; empty &#xC774;&#xAC70;&#xB098; &quot;(&quot; &#xC77C; &#xACBD;&#xC6B0;</span>
                    { push(ostack, op); <span class="hljs-built_in">break</span> }    <span class="hljs-comment"># &#xC5F0;&#xC0B0;&#xC790;&#xB97C; ostack &#xC5D0; push &#xD569;&#xB2C8;&#xB2E4;.  </span>

                <span class="hljs-keyword">if</span> ( op == <span class="hljs-string">&quot;*&quot;</span> || op == <span class="hljs-string">&quot;/&quot;</span> ) {      <span class="hljs-comment"># &#xD604;&#xC7AC; &#xC5F0;&#xC0B0;&#xC790;&#xAC00; &quot;*&quot; or &quot;/&quot; &#xC774;&#xBA74;</span>
                    <span class="hljs-keyword">while</span>( peek(ostack) ~ /*|\// )   <span class="hljs-comment"># &#xAC19;&#xC740; &#xC6B0;&#xC120;&#xC21C;&#xC704; &#xC5F0;&#xC0B0;&#xC790;&#xB97C; &#xAEBC;&#xB0B4;&#xC5B4;</span>
                        calc( pop(ostack))           <span class="hljs-comment"># calc &#xD558;&#xACE0; &#xC644;&#xB8CC;&#xB418;&#xBA74; &#xD604;&#xC7AC;</span>
                    push(ostack, op)                 <span class="hljs-comment"># &#xC5F0;&#xC0B0;&#xC790;&#xB97C; ostack &#xC5D0; push &#xD569;&#xB2C8;&#xB2E4;</span>
                    <span class="hljs-built_in">break</span>
                }

                <span class="hljs-comment"># &#xADF8;&#xC678; &#xD604;&#xC7AC; &#xC5F0;&#xC0B0;&#xC790;&#xAC00; &quot;+&quot; or &quot;-&quot; &#xC77C; &#xACBD;&#xC6B0; &#xC6B0;&#xC120;&#xC21C;&#xC704;&#xAC00; &#xB354; &#xB0AE;&#xC740; &quot;(&quot; &#xAC00;</span>
                <span class="hljs-comment"># ostack &#xC758; top &#xC774; &#xB420;&#xB54C;&#xAE4C;&#xC9C0; &#xAEBC;&#xB0B4;&#xC5B4; calc &#xD558;&#xACE0; &#xD604;&#xC7AC; &#xC5F0;&#xC0B0;&#xC790;&#xB97C; push &#xD569;&#xB2C8;&#xB2E4;.</span>
                <span class="hljs-keyword">while</span>( peek(ostack) != <span class="hljs-string">&quot;(&quot;</span> &amp;&amp; slen(ostack) &gt; <span class="hljs-number">0</span> ) 
                    calc( pop(ostack))
                push( ostack, op) 
                <span class="hljs-built_in">break</span>

            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;parenthesis&quot;</span> :
                val = token[i][<span class="hljs-string">&quot;value&quot;</span>]
                <span class="hljs-keyword">if</span> ( val == <span class="hljs-string">&quot;(&quot;</span> ) {          <span class="hljs-comment"># &quot;(&quot; &#xB97C; &#xB9CC;&#xB098;&#xBA74; ostack &#xC5D0; push &#xD558;&#xACE0;</span>
                    push(ostack, val)        <span class="hljs-comment"># &#xAD04;&#xD638;&#xB97C; &#xC704;&#xD55C; &#xBD80;&#xD638; &#xC124;&#xC815;&#xC744; &#xC704;&#xD574;</span>
                    push(ustack, unary_p)    <span class="hljs-comment"># ustack &#xC5D0; unary_p &#xB97C; push &#xD558;&#xACE0;</span>
                    unary_p = <span class="hljs-number">1</span>              <span class="hljs-comment"># &#xC644;&#xB8CC;&#xB418;&#xBA74; 1 &#xB85C; reset &#xD569;&#xB2C8;&#xB2E4;.</span>
                } <span class="hljs-keyword">else</span> {   <span class="hljs-comment"># &quot;)&quot;</span>
                    <span class="hljs-keyword">while</span> (val = pop(ostack)) {     <span class="hljs-comment"># &quot;)&quot; &#xB97C; &#xB9CC;&#xB098;&#xBA74;</span>
                        <span class="hljs-keyword">if</span> ( val == <span class="hljs-string">&quot;(&quot;</span> ) <span class="hljs-built_in">break</span>     <span class="hljs-comment"># &quot;(&quot; &#xAC00; &#xB098;&#xC62C;&#xB54C; &#xAE4C;&#xC9C0; &#xC5F0;&#xC0B0;&#xC790;&#xB97C;</span>
                        <span class="hljs-keyword">else</span> calc(val)              <span class="hljs-comment"># pop &#xD574;&#xC11C; calc &#xD569;&#xB2C8;&#xB2E4;.</span>
                    }
                    <span class="hljs-keyword">if</span> ( val != <span class="hljs-string">&quot;(&quot;</span> ) error( <span class="hljs-string">&quot;parentheses missmatched. more &apos;)&apos;&quot;</span> )
                    <span class="hljs-comment"># ustack &#xC5D0; &#xC800;&#xC7A5;&#xD574; &#xB193;&#xC740; &#xBD80;&#xD638;&#xAC12;&#xC744; &#xCD5C;&#xC885; &#xACB0;&#xACFC;&#xAC12;&#xC5D0; &#xC801;&#xC6A9;&#xD569;&#xB2C8;&#xB2E4;. </span>
                    push(rstack, pop(ustack) * pop(rstack))
                }
        }
    }

    len = slen(ostack)                <span class="hljs-comment"># ostack &#xC5D0; &#xC5F0;&#xC0B0;&#xC790;&#xAC00; &#xB0A8;&#xC544; &#xC788;&#xC744;&#xACBD;&#xC6B0;            </span>
    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt;= len; i++) {      <span class="hljs-comment"># pop &#xD574;&#xC11C; calc &#xD569;&#xB2C8;&#xB2E4;.</span>
        val = pop(ostack)             <span class="hljs-comment"># &quot;(&quot; &#xAC00; &#xB0A8;&#xC544; &#xC788;&#xB2E4;&#xB294; &#xAC83;&#xC740; &quot;)&quot; &#xAC00; &#xBAA8;&#xC790;&#xB780;&#xAC83;</span>
        <span class="hljs-keyword">if</span> ( val == <span class="hljs-string">&quot;(&quot;</span> ) error( <span class="hljs-string">&quot;parentheses missmatched. less &apos;)&apos;&quot;</span> )
        calc( val )
    }
    <span class="hljs-built_in">return</span>  pop(rstack)     <span class="hljs-comment"># ostack &#xC5D0; &#xC788;&#xB294; &#xBAA8;&#xB4E0; &#xC5F0;&#xC0B0;&#xC790;&#xAC00; calc &#xB418;&#xACE0; &#xB09C;&#xD6C4;&#xC5D0;&#xB294;</span>
                            <span class="hljs-comment"># rstack &#xC5D0;&#xB294; &#xCD5C;&#xC885; &#xACB0;&#xACFC;&#xB9CC; &#xB0A8;&#xC544;&#xC788;&#xAC8C; &#xB429;&#xB2C8;&#xB2E4;.</span>
}

<span class="hljs-keyword">function</span> calc(op,      num1, num2, res) {
    num1 = pop(rstack)      <span class="hljs-comment"># rstack &#xC5D0;&#xC11C; &#xB450;&#xAC1C;&#xC758; operand &#xB97C; pop &#xD574;&#xC11C;</span>
    num2 = pop(rstack)      <span class="hljs-comment"># &#xC778;&#xC218;&#xB85C; &#xC804;&#xB2EC;&#xB41C; op &#xC5F0;&#xC0B0;&#xC790;&#xC640; &#xC5F0;&#xC0B0;&#xC744; &#xD558;&#xACE0;</span>
    switch (op) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;+&quot;</span> : res = num2 + num1; <span class="hljs-built_in">break</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;-&quot;</span> : res = num2 - num1; <span class="hljs-built_in">break</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;*&quot;</span> : res = num2 * num1; <span class="hljs-built_in">break</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;/&quot;</span> : 
            <span class="hljs-keyword">if</span> (num1 == <span class="hljs-number">0</span> ) error( <span class="hljs-string">&quot;division by zero&quot;</span> )
            res = num2 / num1
    }
    push(rstack, res)       <span class="hljs-comment"># &#xACB0;&#xACFC;&#xB97C; &#xB2E4;&#xC2DC; rstack &#xC73C;&#xB85C; push &#xD569;&#xB2C8;&#xB2E4;.</span>
}

<span class="hljs-keyword">function</span> error (str) {
    <span class="hljs-built_in">print</span> <span class="hljs-string">&quot;ERROR: &quot;</span> str &gt; <span class="hljs-string">&quot;/dev/stderr&quot;</span>
    <span class="hljs-built_in">exit</span> <span class="hljs-number">1</span>
}

<span class="hljs-comment">############   tokenize   ############</span>

<span class="hljs-keyword">function</span> tokenize (      i) {
    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt;= NF; i++) {
        switch (<span class="hljs-variable">$i</span>) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;+&quot;</span> : <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;-&quot;</span> :
            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;*&quot;</span> : <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;/&quot;</span> : 
                token[idx][<span class="hljs-string">&quot;type&quot;</span>] = <span class="hljs-string">&quot;operator&quot;</span>
                token[idx++][<span class="hljs-string">&quot;value&quot;</span>] = <span class="hljs-variable">$i</span>
                <span class="hljs-built_in">break</span>
            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;(&quot;</span> : <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;)&quot;</span> :
                token[idx][<span class="hljs-string">&quot;type&quot;</span>] = <span class="hljs-string">&quot;parenthesis&quot;</span>
                token[idx++][<span class="hljs-string">&quot;value&quot;</span>] = <span class="hljs-variable">$i</span>
                <span class="hljs-built_in">break</span>
            <span class="hljs-keyword">case</span> /[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>.]/ : 
                i = t_number(i)
                <span class="hljs-built_in">break</span>
            <span class="hljs-keyword">case</span> /[ \t]/ :
                <span class="hljs-built_in">break</span>
            default :
                error( <span class="hljs-string">&quot;wrong character: &quot;</span> <span class="hljs-variable">$i</span>)
        }
    }
}

<span class="hljs-keyword">function</span> t_number (i,      res) {
    <span class="hljs-keyword">while</span> ( <span class="hljs-variable">$i</span> ~ /[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>.]/ ) res = res $(i++)
    token[idx][<span class="hljs-string">&quot;type&quot;</span>] = <span class="hljs-string">&quot;number&quot;</span>
    token[idx++][<span class="hljs-string">&quot;value&quot;</span>] = res
    <span class="hljs-built_in">return</span> i - <span class="hljs-number">1</span>
}

<span class="hljs-comment">############   stack   ############</span>

<span class="hljs-keyword">function</span> push(arr, val) {
    arr[ length(arr) ] = val
}
<span class="hljs-keyword">function</span> pop(arr,      ret) {
    <span class="hljs-keyword">if</span> ( length(arr) &gt; <span class="hljs-number">1</span> ) {
        ret = arr[ length(arr) - <span class="hljs-number">1</span> ]
        delete arr[ length(arr) - <span class="hljs-number">1</span> ]
    }
    <span class="hljs-built_in">return</span> ret
}
<span class="hljs-keyword">function</span> peek(arr,      ret) {
    <span class="hljs-keyword">if</span> ( length(arr) &gt; <span class="hljs-number">1</span> )
        ret = arr[ length(arr) - <span class="hljs-number">1</span> ]
    <span class="hljs-built_in">return</span> ret
}
<span class="hljs-keyword">function</span> slen(arr) {
    <span class="hljs-built_in">return</span> length(arr) - <span class="hljs-number">1</span>
}
</code></pre>
<h1 id="2-">2 .</h1>
<p>&#xC774;&#xBC88;&#xC5D0;&#xB294; &#xC0AC;&#xCE59;&#xC5F0;&#xC0B0;&#xC5D0; &#xB354;&#xD574;&#xC11C;  <code>%</code> <code>^</code> &#xC5F0;&#xC0B0;&#xC790;&#xB3C4; &#xCD94;&#xAC00;&#xD558;&#xB294; &#xAC83;&#xC785;&#xB2C8;&#xB2E4;.
<code>%</code> &#xC5F0;&#xC0B0;&#xC790;&#xB294; &#xC6B0;&#xC120;&#xC21C;&#xC704;&#xAC00; <code>*</code> <code>/</code> &#xC640; &#xAC19;&#xAE30; &#xB54C;&#xBB38;&#xC5D0; &#xAC04;&#xB2E8;&#xD788; &#xCD94;&#xAC00;&#xD560; &#xC218; &#xC788;&#xC9C0;&#xB9CC;,
<code>^</code> &#xC5F0;&#xC0B0;&#xC790;&#xC758; &#xACBD;&#xC6B0;&#xB294; &#xC6B0;&#xC120;&#xC21C;&#xC704;&#xAC00; <code>*</code> <code>/</code> &#xBCF4;&#xB2E4; &#xB192;&#xC2B5;&#xB2C8;&#xB2E4;.
&#xB610;&#xD55C; unary &#xC5F0;&#xC0B0;&#xC790;&#xBCF4;&#xB2E4;&#xB3C4; &#xB192;&#xAE30; &#xB54C;&#xBB38;&#xC5D0; &#xB2E4;&#xC74C;&#xACFC; &#xAC19;&#xC740; &#xACB0;&#xACFC;&#xAC00; &#xB418;&#xC5B4;&#xC57C; &#xD569;&#xB2C8;&#xB2E4;.</p>
<pre><code class="lang-bash"><span class="hljs-comment"># -2 &#xAC00; 4 &#xC81C;&#xACF1;&#xC774; &#xB3FC;&#xC11C; 16 &#xC774; &#xB418;&#xB294;&#xAC83;&#xC774; &#xC544;&#xB2C8;&#xACE0; 2 ^ 4 &#xAC00; &#xBA3C;&#xC800; &#xACC4;&#xC0B0;&#xB418;&#xACE0; &#xACB0;&#xACFC;&#xC5D0; - &#xAC00; &#xBD99;&#xB294;&#xB2E4;.</span>
$ awk <span class="hljs-string">&apos;BEGIN { print -2 ^ 4 }&apos;</span> 
-<span class="hljs-number">16</span>
$ awk <span class="hljs-string">&apos;BEGIN { print -2 ^ -4 }&apos;</span>    <span class="hljs-comment"># &#xC9C0;&#xC218;&#xAC00; &#xC74C;&#xC218; </span>
-<span class="hljs-number">0.0625</span>
</code></pre>
<p>&#xB530;&#xB77C;&#xC11C; <code>^</code> &#xC5F0;&#xC0B0;&#xC790; &#xC55E;&#xC5D0; &#xC788;&#xB294; &#xC22B;&#xC790;&#xC5D0; &#xBD99;&#xB294; &#xBD80;&#xD638;&#xB294; &#xAD04;&#xD638;&#xC5D0;&#xC11C; &#xBD80;&#xD638;&#xB97C; &#xCC98;&#xB9AC;&#xD560; &#xB54C;&#xCC98;&#xB7FC; 
&#xBA3C;&#xC800; ustack &#xC5D0; &#xBD80;&#xD638;&#xB97C; &#xC800;&#xC7A5;&#xD558;&#xACE0; &#xB098;&#xC911;&#xC5D0; &#xC5F0;&#xC0B0; &#xACB0;&#xACFC;&#xC5D0; &#xB300;&#xD574; &#xBD80;&#xD638;&#xB97C; &#xC801;&#xC6A9;&#xD574;&#xC57C; &#xD569;&#xB2C8;&#xB2E4;.</p>
<pre><code class="lang-bash">. . .

<span class="hljs-keyword">function</span> parse(     i, len, op, pk, val, unary, unary_p) {
    len = length(token)
    unary = <span class="hljs-number">1</span>; unary_p = <span class="hljs-number">1</span>
    <span class="hljs-keyword">for</span> (i=<span class="hljs-number">0</span>; i &lt; len; i++) {
        switch ( token[i][<span class="hljs-string">&quot;type&quot;</span>] ) {

            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;number&quot;</span> :  
                <span class="hljs-keyword">if</span> ( token[i+<span class="hljs-number">1</span>][<span class="hljs-string">&quot;value&quot;</span>] == <span class="hljs-string">&quot;^&quot;</span> ) {     <span class="hljs-comment"># &#xC22B;&#xC790; &#xBC14;&#xB85C; &#xB2E4;&#xC74C; &#xC5F0;&#xC0B0;&#xC790;&#xAC00; &quot;^&quot; &#xC774;&#xBA74;</span>
                    push( ustack, unary)                <span class="hljs-comment"># &#xBD80;&#xD638;&#xB97C; &#xB098;&#xC911;&#xC5D0; &#xC5F0;&#xC0B0; &#xACB0;&#xACFC;&#xC5D0; &#xC124;&#xC815;&#xD574;&#xC57C;</span>
                    push( rstack, token[i][<span class="hljs-string">&quot;value&quot;</span>])    <span class="hljs-comment"># &#xD558;&#xBBC0;&#xB85C; ustack &#xC5D0; push &#xD569;&#xB2C8;&#xB2E4;.</span>
                } <span class="hljs-keyword">else</span> 
                    push( rstack, unary * token[i][<span class="hljs-string">&quot;value&quot;</span>])

                unary = <span class="hljs-number">1</span>
                <span class="hljs-built_in">break</span>

            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;operator&quot;</span> :
                op = token[i][<span class="hljs-string">&quot;value&quot;</span>]
                <span class="hljs-keyword">if</span> ( i == <span class="hljs-number">0</span> \
                    || token[i-<span class="hljs-number">1</span>][<span class="hljs-string">&quot;value&quot;</span>] == <span class="hljs-string">&quot;(&quot;</span> \
                    || token[i-<span class="hljs-number">1</span>][<span class="hljs-string">&quot;type&quot;</span>] == <span class="hljs-string">&quot;operator&quot;</span>) 
                { 
                    <span class="hljs-keyword">if</span> ( op ~ /*|\/|%|\^/ ) error( <span class="hljs-string">&quot;* / % ^ on unary operator&quot;</span> )
                    <span class="hljs-keyword">if</span> ( token[i+<span class="hljs-number">1</span>][<span class="hljs-string">&quot;value&quot;</span>] == <span class="hljs-string">&quot;(&quot;</span>) {
                        unary_p = unary * (op <span class="hljs-number">1</span>)
                        unary = <span class="hljs-number">1</span>
                    } <span class="hljs-keyword">else</span> unary *= (op <span class="hljs-number">1</span>)
                    <span class="hljs-built_in">break</span> 
                }

                pk = peek(ostack)               
                <span class="hljs-comment"># &quot;^&quot; &#xC5F0;&#xC0B0;&#xC790;&#xB294; &#xC6B0;&#xC120;&#xC21C;&#xC704;&#xAC00; &#xC81C;&#xC77C; &#xB192;&#xC73C;&#xBBC0;&#xB85C; &#xBB34;&#xC870;&#xAC74; ostack &#xC5D0; push</span>
                <span class="hljs-keyword">if</span> ( pk == <span class="hljs-string">&quot;&quot;</span> || pk == <span class="hljs-string">&quot;(&quot;</span> || op == <span class="hljs-string">&quot;^&quot;</span> ) 
                     { push(ostack, op); <span class="hljs-built_in">break</span> }   

                <span class="hljs-comment"># &quot;%&quot; &#xC5F0;&#xC0B0;&#xC790;&#xB294; &#xC6B0;&#xC120;&#xC21C;&#xC704;&#xB97C; &quot;*&quot; &quot;/&quot; &#xC640; &#xAC19;&#xAC8C; &#xCDE8;&#xAE09;</span>
                <span class="hljs-keyword">if</span> ( op == <span class="hljs-string">&quot;*&quot;</span> || op == <span class="hljs-string">&quot;/&quot;</span> || op == <span class="hljs-string">&quot;%&quot;</span> ) {
                    <span class="hljs-keyword">while</span>( peek(ostack) ~ /*|\/|%|\^/ ) 
                        calc( pop(ostack))
                    push(ostack, op)
                    <span class="hljs-built_in">break</span>
                }

                <span class="hljs-keyword">while</span>( peek(ostack) != <span class="hljs-string">&quot;(&quot;</span> &amp;&amp; slen(ostack) &gt; <span class="hljs-number">0</span> ) 
                    calc( pop(ostack))
                push( ostack, op) 
                <span class="hljs-built_in">break</span>

            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;parenthesis&quot;</span> :
                val = token[i][<span class="hljs-string">&quot;value&quot;</span>]
                <span class="hljs-keyword">if</span> ( val == <span class="hljs-string">&quot;(&quot;</span> ) {
                    push(ostack, val)
                    push(ustack, unary_p)
                    unary_p = <span class="hljs-number">1</span>
                } <span class="hljs-keyword">else</span> {   <span class="hljs-comment"># &quot;)&quot;</span>
                    <span class="hljs-keyword">while</span> (val = pop(ostack)) {
                        <span class="hljs-keyword">if</span> ( val == <span class="hljs-string">&quot;(&quot;</span> ) <span class="hljs-built_in">break</span>
                        <span class="hljs-keyword">else</span> calc(val)
                    }
                    <span class="hljs-keyword">if</span> ( val != <span class="hljs-string">&quot;(&quot;</span> ) error(<span class="hljs-string">&quot;parentheses missmatched. more &apos;)&apos;&quot;</span>)
                    <span class="hljs-comment"># &#xB2EB;&#xB294; &#xAD04;&#xD638; &#xBC14;&#xB85C; &#xB2E4;&#xC74C; &#xC5F0;&#xC0B0;&#xC790;&#xAC00; &quot;^&quot; &#xC774;&#xBA74; &#xBD80;&#xD638;&#xB97C; &#xC124;&#xC815;&#xD558;&#xBA74; &#xC548;&#xB41C;&#xB2E4;.</span>
                    <span class="hljs-keyword">if</span> ( token[i+<span class="hljs-number">1</span>][<span class="hljs-string">&quot;value&quot;</span>] != <span class="hljs-string">&quot;^&quot;</span> )
                        push(rstack, pop(ustack) * pop(rstack))
                }
        }
    }
    len = slen(ostack)                        
    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt;= len; i++) {
        val = pop(ostack)
        <span class="hljs-keyword">if</span> ( val == <span class="hljs-string">&quot;(&quot;</span> ) error(<span class="hljs-string">&quot;parentheses missmatched. less &apos;)&apos;&quot;</span>)
        calc( val )
    }
    <span class="hljs-built_in">return</span>  pop(rstack)
}

<span class="hljs-keyword">function</span> calc (op,      num1, num2, res) {
    num1 = pop(rstack)
    num2 = pop(rstack)
    switch (op) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;+&quot;</span> : res = num2 + num1; <span class="hljs-built_in">break</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;-&quot;</span> : res = num2 - num1; <span class="hljs-built_in">break</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;*&quot;</span> : res = num2 * num1; <span class="hljs-built_in">break</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;/&quot;</span> : 
            <span class="hljs-keyword">if</span> (num1 == <span class="hljs-number">0</span> ) error( <span class="hljs-string">&quot;division by zero&quot;</span> )
            res = num2 / num1
            <span class="hljs-built_in">break</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;%&quot;</span> : 
            <span class="hljs-keyword">if</span> (num1 == <span class="hljs-number">0</span> ) error( <span class="hljs-string">&quot;division by zero&quot;</span> )
            res = num2 % num1
            <span class="hljs-built_in">break</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;^&quot;</span> : res = num2 ^ num1
    }
    <span class="hljs-keyword">if</span> ( op == <span class="hljs-string">&quot;^&quot;</span> )
        push(rstack, pop(ustack) * res)    <span class="hljs-comment"># &quot;^&quot; &#xC5F0;&#xC0B0; &#xACB0;&#xACFC;&#xB97C; &#xC800;&#xC7A5;&#xD560; &#xB54C; &#xBD80;&#xD638;&#xB97C; &#xC124;&#xC815; </span>
    <span class="hljs-keyword">else</span>
        push(rstack, res)
}

<span class="hljs-keyword">function</span> tokenize (      i) {
    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt;= NF; i++) {
        switch (<span class="hljs-variable">$i</span>) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;+&quot;</span> : <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;-&quot;</span> :
            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;*&quot;</span> : <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;/&quot;</span> :
            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;%&quot;</span> : <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;^&quot;</span> :          <span class="hljs-comment"># &quot;%&quot; &quot;^&quot; &#xC5F0;&#xC0B0;&#xC790; &#xCD94;&#xAC00; </span>
                token[idx][<span class="hljs-string">&quot;type&quot;</span>] = <span class="hljs-string">&quot;operator&quot;</span>
                token[idx++][<span class="hljs-string">&quot;value&quot;</span>] = <span class="hljs-variable">$i</span>
                <span class="hljs-built_in">break</span>
            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;(&quot;</span> : <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;)&quot;</span> :
                token[idx][<span class="hljs-string">&quot;type&quot;</span>] = <span class="hljs-string">&quot;parenthesis&quot;</span>
                token[idx++][<span class="hljs-string">&quot;value&quot;</span>] = <span class="hljs-variable">$i</span>
                <span class="hljs-built_in">break</span>
            <span class="hljs-keyword">case</span> /[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>.]/ : 
                i = t_number(i)
                <span class="hljs-built_in">break</span>
            <span class="hljs-keyword">case</span> /[ \t]/ :
                <span class="hljs-built_in">break</span>
            default :
                error( <span class="hljs-string">&quot;wrong character: &quot;</span> <span class="hljs-variable">$i</span>)
        }
    }
}

. . .
</code></pre>
<p>&#xAC19;&#xC740; &#xC6B0;&#xC120;&#xC21C;&#xC704; &#xC5F0;&#xC0B0;&#xC790;&#xAC00; &#xC5F0;&#xC774;&#xC5B4; &#xC788;&#xC744; &#xACBD;&#xC6B0; &#xC67C;&#xCABD;&#xBD80;&#xD130; &#xACC4;&#xC0B0;&#xD560;&#xC9C0;, &#xC624;&#xB978;&#xCABD;&#xBD80;&#xD130; &#xACC4;&#xC0B0;&#xD560;&#xC9C0;
&#xC815;&#xD558;&#xB294; &#xAC83;&#xC744; associativity &#xB77C;&#xACE0; &#xD558;&#xB294;&#xB370; <code>^</code> &#xC5F0;&#xC0B0;&#xC790;&#xB294; right associativity &#xC785;&#xB2C8;&#xB2E4;.</p>
<pre><code class="lang-bash">$ awk <span class="hljs-string">&apos;BEGIN { print 1 / 2 * 4 }&apos;</span>       
<span class="hljs-number">2</span>
$ awk <span class="hljs-string">&apos;BEGIN { print (1 / 2) * 4 }&apos;</span>      <span class="hljs-comment"># &quot;^&quot; &#xC774;&#xC678;&#xC758; &#xC5F0;&#xC0B0;&#xC790;&#xB4E4;&#xC740; &#xC67C;&#xCABD;&#xBD80;&#xD130; &#xACC4;&#xC0B0;&#xD558;&#xB294;</span>
<span class="hljs-number">2</span>                                        <span class="hljs-comment"># left associativity &#xC774;&#xB2E4;.</span>
$ awk <span class="hljs-string">&apos;BEGIN { print 1 / (2 * 4) }&apos;</span> 
<span class="hljs-number">0.125</span>

$ awk <span class="hljs-string">&apos;BEGIN { print 4 ^ 3 ^ 2 }&apos;</span> 
<span class="hljs-number">262144</span>
$ awk <span class="hljs-string">&apos;BEGIN { print 4 ^ (3 ^ 2) }&apos;</span>      <span class="hljs-comment"># &quot;^&quot; &#xC5F0;&#xC0B0;&#xC790;&#xB294; &#xC624;&#xB978;&#xCABD;&#xBD80;&#xD130; &#xACC4;&#xC0B0;&#xD558;&#xB294;</span>
<span class="hljs-number">262144</span>                                   <span class="hljs-comment"># right associativity &#xC774;&#xB2E4;.</span>
$ awk <span class="hljs-string">&apos;BEGIN { print (4 ^ 3) ^ 2 }&apos;</span> 
<span class="hljs-number">4096</span>

<span class="hljs-comment"># &#xB300;&#xC785; &#xC5F0;&#xC0B0;&#xB3C4; &#xC5F0;&#xC0B0; &#xACB0;&#xACFC;&#xAC00; value &#xC778; expression &#xC73C;&#xB85C; right associativity &#xC5D0; &#xD574;&#xB2F9;&#xD569;&#xB2C8;&#xB2E4;.</span>
$ awk <span class="hljs-string">&apos;BEGIN { a = b = c = 100; print a,b,c }&apos;</span> 
<span class="hljs-number">100</span> <span class="hljs-number">100</span> <span class="hljs-number">100</span>
$ awk <span class="hljs-string">&apos;BEGIN { a = ( b = ( c = 100 )); print a,b,c }&apos;</span> 
<span class="hljs-number">100</span> <span class="hljs-number">100</span> <span class="hljs-number">100</span>
</code></pre>
<h4 id="&#xCD5C;&#xC885;-&#xACB0;&#xACFC;">&#xCD5C;&#xC885; &#xACB0;&#xACFC;</h4>
<pre><code class="lang-sh"><span class="hljs-comment">#</span>
<span class="hljs-comment"># &#xC2E4;&#xD589;: ./parse.sh &lt;&lt;&lt; &apos;1 + 2 * 3 ^ (2 % 5) / 2&apos;</span>
<span class="hljs-comment">#</span>
sh$ cat parse.sh
<span class="hljs-comment">#!/usr/bin/env -S gawk -M -f</span>

BEGIN { FS=<span class="hljs-string">&quot;&quot;</span>; token[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]; ostack[<span class="hljs-number">0</span>]; rstack[<span class="hljs-number">0</span>]; ustack[<span class="hljs-number">0</span>] }

{
    idx = <span class="hljs-number">0</span>
    tokenize()
    <span class="hljs-built_in">print</span> parse()

    delete token 
}

<span class="hljs-keyword">function</span> parse(     i, len, op, pk, val, unary, unary_p) {
    len = length(token)
    unary = <span class="hljs-number">1</span>; unary_p = <span class="hljs-number">1</span>
    <span class="hljs-keyword">for</span> (i=<span class="hljs-number">0</span>; i &lt; len; i++) {
        switch ( token[i][<span class="hljs-string">&quot;type&quot;</span>] ) {

            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;number&quot;</span> :  
                <span class="hljs-keyword">if</span> ( token[i-<span class="hljs-number">1</span>][<span class="hljs-string">&quot;type&quot;</span>] == <span class="hljs-string">&quot;number&quot;</span> ) error( <span class="hljs-string">&quot;number after number&quot;</span> )
                <span class="hljs-keyword">if</span> ( token[i+<span class="hljs-number">1</span>][<span class="hljs-string">&quot;value&quot;</span>] == <span class="hljs-string">&quot;(&quot;</span> ) error( <span class="hljs-string">&quot;&apos;(&apos; after number&quot;</span> )

                <span class="hljs-keyword">if</span> ( token[i+<span class="hljs-number">1</span>][<span class="hljs-string">&quot;value&quot;</span>] == <span class="hljs-string">&quot;^&quot;</span> ) {
                    push( ustack, unary)
                    push( rstack, token[i][<span class="hljs-string">&quot;value&quot;</span>])
                } <span class="hljs-keyword">else</span> 
                    push( rstack, unary * token[i][<span class="hljs-string">&quot;value&quot;</span>])

                unary = <span class="hljs-number">1</span>
                <span class="hljs-built_in">break</span>

            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;operator&quot;</span> :
                <span class="hljs-keyword">if</span> ( token[i+<span class="hljs-number">1</span>][<span class="hljs-string">&quot;value&quot;</span>] == <span class="hljs-string">&quot;)&quot;</span> ) error(<span class="hljs-string">&quot;&apos;)&apos; after operator&quot;</span>);
                <span class="hljs-keyword">if</span> ( i + <span class="hljs-number">1</span> == len ) error(<span class="hljs-string">&quot;early termination.&quot;</span>);
                op = token[i][<span class="hljs-string">&quot;value&quot;</span>]
                <span class="hljs-keyword">if</span> ( i == <span class="hljs-number">0</span> \
                    || token[i-<span class="hljs-number">1</span>][<span class="hljs-string">&quot;value&quot;</span>] == <span class="hljs-string">&quot;(&quot;</span> \
                    || token[i-<span class="hljs-number">1</span>][<span class="hljs-string">&quot;type&quot;</span>] == <span class="hljs-string">&quot;operator&quot;</span>) 
                { 
                    <span class="hljs-keyword">if</span> ( op ~ /*|\/|%|\^/ ) error( <span class="hljs-string">&quot;* / % ^ on unary operator&quot;</span> )
                    <span class="hljs-keyword">if</span> ( token[i+<span class="hljs-number">1</span>][<span class="hljs-string">&quot;value&quot;</span>] == <span class="hljs-string">&quot;(&quot;</span>) {
                        unary_p = unary * (op <span class="hljs-number">1</span>)
                        unary = <span class="hljs-number">1</span>
                    } 
                    <span class="hljs-keyword">else</span> unary *= (op <span class="hljs-number">1</span>)
                    <span class="hljs-built_in">break</span> 
                }
                pk = peek(ostack)               
                <span class="hljs-keyword">if</span> ( pk == <span class="hljs-string">&quot;&quot;</span> || pk == <span class="hljs-string">&quot;(&quot;</span> || op == <span class="hljs-string">&quot;^&quot;</span> ) 
                     { push(ostack, op); <span class="hljs-built_in">break</span> }   

                <span class="hljs-keyword">if</span> ( op == <span class="hljs-string">&quot;*&quot;</span> || op == <span class="hljs-string">&quot;/&quot;</span> || op == <span class="hljs-string">&quot;%&quot;</span> ) {
                    <span class="hljs-keyword">while</span>( peek(ostack) ~ /*|\/|%|\^/ ) 
                        calc( pop(ostack))
                    push(ostack, op)
                    <span class="hljs-built_in">break</span>
                }
                <span class="hljs-keyword">while</span>( peek(ostack) != <span class="hljs-string">&quot;(&quot;</span> &amp;&amp; slen(ostack) &gt; <span class="hljs-number">0</span> ) 
                    calc( pop(ostack))
                push( ostack, op) 
                <span class="hljs-built_in">break</span>

            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;parenthesis&quot;</span> :
                val = token[i][<span class="hljs-string">&quot;value&quot;</span>]
                <span class="hljs-keyword">if</span> ( val == <span class="hljs-string">&quot;(&quot;</span> ) {
                    <span class="hljs-keyword">if</span> ( token[i+<span class="hljs-number">1</span>][<span class="hljs-string">&quot;value&quot;</span>] == <span class="hljs-string">&quot;)&quot;</span> ) error(<span class="hljs-string">&quot;&apos;)&apos; after &apos;(&apos;&quot;</span>);
                    push(ostack, val)
                    push(ustack, unary_p)
                    unary_p = <span class="hljs-number">1</span>
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">if</span> ( token[i+<span class="hljs-number">1</span>][<span class="hljs-string">&quot;value&quot;</span>] == <span class="hljs-string">&quot;(&quot;</span> ) error(<span class="hljs-string">&quot;&apos;(&apos; after &apos;)&apos;&quot;</span>);
                    <span class="hljs-keyword">while</span> (val = pop(ostack)) {
                        <span class="hljs-keyword">if</span> ( val == <span class="hljs-string">&quot;(&quot;</span> ) <span class="hljs-built_in">break</span>
                        <span class="hljs-keyword">else</span> calc(val)
                    }
                    <span class="hljs-keyword">if</span> ( val != <span class="hljs-string">&quot;(&quot;</span> ) error(<span class="hljs-string">&quot;&apos;)&apos; parentheses missmatched.&quot;</span>)
                    <span class="hljs-keyword">if</span> ( token[i+<span class="hljs-number">1</span>][<span class="hljs-string">&quot;value&quot;</span>] != <span class="hljs-string">&quot;^&quot;</span> )
                        push(rstack, pop(ustack) * pop(rstack))
                    <span class="hljs-keyword">if</span> ( token[i+<span class="hljs-number">1</span>][<span class="hljs-string">&quot;type&quot;</span>] == <span class="hljs-string">&quot;number&quot;</span>)
                        error(<span class="hljs-string">&quot;number after &apos;)&apos;&quot;</span>);
                }
        }
    }
    len = slen(ostack)                        
    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt;= len; i++) {
        val = pop(ostack)
        <span class="hljs-keyword">if</span> ( val == <span class="hljs-string">&quot;(&quot;</span> ) error(<span class="hljs-string">&quot;&apos;(&apos; parentheses missmatched.&quot;</span>)
        calc( val )
    }
    <span class="hljs-built_in">return</span>  pop(rstack)
}

<span class="hljs-keyword">function</span> calc (op,      num1, num2, res) {
    num1 = pop(rstack)
    num2 = pop(rstack)
    switch (op) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;+&quot;</span> : res = num2 + num1; <span class="hljs-built_in">break</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;-&quot;</span> : res = num2 - num1; <span class="hljs-built_in">break</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;*&quot;</span> : res = num2 * num1; <span class="hljs-built_in">break</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;/&quot;</span> : 
            <span class="hljs-keyword">if</span> (num1 == <span class="hljs-number">0</span> ) error( <span class="hljs-string">&quot;division by zero&quot;</span> )
            res = num2 / num1
            <span class="hljs-built_in">break</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;%&quot;</span> : 
            <span class="hljs-keyword">if</span> (num1 == <span class="hljs-number">0</span> ) error( <span class="hljs-string">&quot;division by zero&quot;</span> )
            res = num2 % num1
            <span class="hljs-built_in">break</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;^&quot;</span> : res = num2 ^ num1
    }
    <span class="hljs-keyword">if</span> ( op == <span class="hljs-string">&quot;^&quot;</span> )
        push(rstack, pop(ustack) * res)
    <span class="hljs-keyword">else</span>
        push(rstack, res)
}

<span class="hljs-keyword">function</span> error (str) {
    <span class="hljs-built_in">print</span> <span class="hljs-string">&quot;Error: &quot;</span> str &gt; <span class="hljs-string">&quot;/dev/stderr&quot;</span>
    <span class="hljs-built_in">exit</span> <span class="hljs-number">1</span>
}

<span class="hljs-comment">############   tokenize   ############</span>

<span class="hljs-keyword">function</span> tokenize (      i) {
    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt;= NF; i++) {
        switch (<span class="hljs-variable">$i</span>) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;+&quot;</span> : <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;-&quot;</span> :
            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;*&quot;</span> : <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;/&quot;</span> :
            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;%&quot;</span> : <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;^&quot;</span> :
                token[idx][<span class="hljs-string">&quot;type&quot;</span>] = <span class="hljs-string">&quot;operator&quot;</span>
                token[idx++][<span class="hljs-string">&quot;value&quot;</span>] = <span class="hljs-variable">$i</span>
                <span class="hljs-built_in">break</span>
            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;(&quot;</span> : <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;)&quot;</span> :
                token[idx][<span class="hljs-string">&quot;type&quot;</span>] = <span class="hljs-string">&quot;parenthesis&quot;</span>
                token[idx++][<span class="hljs-string">&quot;value&quot;</span>] = <span class="hljs-variable">$i</span>
                <span class="hljs-built_in">break</span>
            <span class="hljs-keyword">case</span> /[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>.]/ : 
                i = t_number(i)
                <span class="hljs-built_in">break</span>
            <span class="hljs-keyword">case</span> /[ \t]/ :
                <span class="hljs-built_in">break</span>
            default :
                error( <span class="hljs-string">&quot;wrong character: &quot;</span> <span class="hljs-variable">$i</span>)
        }
    }
}

<span class="hljs-keyword">function</span> t_number (i,      res) {
    <span class="hljs-keyword">while</span> ( <span class="hljs-variable">$i</span> ~ /[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>.]/ ) res = res $(i++)
    token[idx][<span class="hljs-string">&quot;type&quot;</span>] = <span class="hljs-string">&quot;number&quot;</span>
    token[idx++][<span class="hljs-string">&quot;value&quot;</span>] = res
    <span class="hljs-built_in">return</span> i - <span class="hljs-number">1</span>
}

<span class="hljs-comment">############   stack   ############</span>

<span class="hljs-keyword">function</span> push (arr, val) {
    arr[ length(arr) ] = val
}
<span class="hljs-keyword">function</span> pop (arr,      ret) {
    <span class="hljs-keyword">if</span> ( length(arr) &gt; <span class="hljs-number">1</span> ) {
        ret = arr[ length(arr) - <span class="hljs-number">1</span> ]
        delete arr[ length(arr) - <span class="hljs-number">1</span> ]
    }
    <span class="hljs-built_in">return</span> ret
}
<span class="hljs-keyword">function</span> peek (arr,      ret) {
    <span class="hljs-keyword">if</span> ( length(arr) &gt; <span class="hljs-number">1</span> )
        ret = arr[ length(arr) - <span class="hljs-number">1</span> ]
    <span class="hljs-built_in">return</span> ret
}
<span class="hljs-keyword">function</span> slen (arr) {
    <span class="hljs-built_in">return</span> length(arr) - <span class="hljs-number">1</span>
}
</code></pre>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./control_statements.html" class="navigation navigation-prev " aria-label="Previous page: Control Statements"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./builtin_functions.html" class="navigation navigation-next " aria-label="Next page: Built-in Functions"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
